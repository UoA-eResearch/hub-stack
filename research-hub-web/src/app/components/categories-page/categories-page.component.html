<div id="research-categories" *ngIf="allCategories$ | async; let allCategories">
  <div>
    <h2>{{ title }}</h2>
    <p>{{ description }}</p>
    <div [ngClass]="'main-underline'"></div>
  </div>

  <!-- Category Cards Container -->
  <div fxLayout="row wrap" fxLayoutGap="1%" fxLayout.lt-md="column wrap" ngClass.lt-md="site-padding-mobile">

    <!-- Category Cards Content -->
    <div *ngFor="let item of allCategories.items" fxFlex="24%" fxLayout="column" fxLayoutAlign="center">

      <!-- Individual Category Card -->
      <mat-card fxLayout="column" fxLayoutAlign="space-between" class="tile-content">
        <div>
          <mat-card-title class="card-title">
            <a selected class="title-text" routerLink="/search"
            [queryParams]="
              searchService.generateQueryParams('', {
                category: [item.sys.id],
                stage: [],
                relatedOrgs: []
              })
            ">{{
              item.name }}</a>
          </mat-card-title>
          <mat-card-content class="card-summary">{{ item.description }}</mat-card-content>
        </div>
        <mat-card-actions>
          <a class="tile-button" routerLink="/search"
          [queryParams]="
            searchService.generateQueryParams('', {
              category: [item.sys.id],
              stage: [],
              relatedOrgs: []
            })
          ">
            <button role="button" aria-label="view-category" mat-flat-button class="standard-button">
              <span>View Category</span>
            </button>
          </a>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</div>
