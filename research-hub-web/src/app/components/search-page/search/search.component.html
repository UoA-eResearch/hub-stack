<app-search-filter-bar
  [searchText]="searchText"
  [totalResults]="totalResults"
  [(sortOrder)]="sortOrder"
  [(activeFilters)]="activeFilters"
></app-search-filter-bar>

<!-- Search Results -->
<div
  id="search-results"
  ngClass.gt-sm="search-content site-padding-2 section"
  ngClass.lt-md="site-padding search-content section"
>
  <app-search-results-list
    [searchResults]="{ results: searchResults, totalResults: totalResults }"
    [loading]="loading"
  ></app-search-results-list>
  <!--Load more or no results message-->
  <div
    class="eol"
    *ngIf="
      !loading && searchResults.length === totalResults && totalResults !== 0
    "
  >
    <div>No More Results</div>
  </div>

  <!-- No results message -->
  <div *ngIf="totalResults === 0 && !errorMessage">
    <app-no-results [searchText]="searchText" [searchContext]="searchContext"></app-no-results>
  </div>

  <!-- Error message -->
  <div *ngIf="errorMessage">
    <h3>Oops! It looks like something went wrong :(</h3>
    <p>Please try reloading the page. If the problem persists, please contact
      <a href="mailto:reshubproject@auckland.ac.nz">ResearchHub Project</a>.
    </p>
  </div>
</div>
